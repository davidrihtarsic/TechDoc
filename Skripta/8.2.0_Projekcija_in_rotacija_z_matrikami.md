---
published: false
---

## Izračun projekcije z matrikami

Za projekcijo vektorja v prostoru lahko uporabimo matrike, kar je posebej uporabno pri računalniški grafiki, linearni algebri in fiziki. Tukaj je razlaga postopka s poudarkom na reševanju z matrikami.

Imamo vektor:

$$
\mathbf{e} = \begin{bmatrix} x_1 \\ y_1 \\ z_1 \end{bmatrix}
$$

Vektor leži v 3D prostoru z osnovnimi osmi X, Y in Z.

### Projekcija na ravnino XY (vzporedno z osjo Z)

To lahko zapišemo kot:

$$
\mathbf{P}_{XY} = \begin{bmatrix}
1 & 0 & 0 \\
0 & 1 & 0 \\
0 & 0 & 0
\end{bmatrix}
$$

Če pomnožimo to matriko z vektorjem $\mathbf{e}$, dobimo:

$$ \mathbf{P}_{XY} \cdot \mathbf{e} =
\begin{bmatrix}
1 & 0 & 0 \\
0 & 1 & 0 \\
0 & 0 & 0 
\end{bmatrix} \cdot
\begin{bmatrix}
x_1 \\ y_1 \\ z_1
\end{bmatrix} = 
\begin{bmatrix}
x_1 \\ y_1 \\ 0
\end{bmatrix} $$

Tako smo vektor projicirali na ravnino XY.


### Projekcija vektorja na poljubno ravnino (z normalnim, enotskim vektorjem $\mathbf{u}$)

Naj bo $\mathbf{u}$ enotski vektor:

$$ \mathbf{u} = \begin{bmatrix}
u_x \\
u_y \\
u_z 
\end{bmatrix}, \quad \text{z } \|\mathbf{u}\| = 1 $$

Projekcijska matrika na ravnino $\mathbf{U}$ s tem vektorjem je:

$$ \mathbf{P}_u = \mathbf{u} \cdot \mathbf{u}^T = 
\begin{bmatrix} u_x \\ u_y \\ u_z \end{bmatrix} \cdot 
\begin{bmatrix} 
u_x & u_y & u_z 
\end{bmatrix} = 
\begin{bmatrix}
u_x^2 & u_x u_y & u_x u_z \\
u_y u_x & u_y^2 & u_y u_z \\
u_z u_x & u_z u_y & u_z^2
\end{bmatrix} $$

Projekcija vektorja $\mathbf{e}$ na ravnino $\mathbf{U}$ z normalnim enotskim vektorjem $\mathbf{u}$:

$$
\mathbf{e}_{\text{proj}} = \mathbf{P}_u \cdot \mathbf{e}
$$

Seveda! Tukaj je razlaga postopka rotacije vektorja s pomočjo matrik, strukturirana s krajšim uvodom, sledijo pa formule in konkreten primer.

## Izračun rotacije z matrikami

V tridimenzionalnem prostoru lahko vektorje rotiramo okoli koordinatnih osi s pomočjo **rotacijskih matrik**. Vsaka rotacija v 3D prostoru se lahko predstavi z množico osnovnih rotacij okoli osi **X**, **Y** ali **Z**. Tak pristop se pogosto uporablja v:

* računalniški grafiki,
* robotiki,
* fiziki gibanja in simulacijah,
* analizi prostorskih podatkov.

Z uporabo matrik lahko **enostavno kombiniramo več rotacij** – npr. najprej okoli Z, nato okoli Y – z zaporednim množenjem matrik. S tem dobimo **kompozitno rotacijsko matriko**, ki deluje kot ena sama transformacija.

Imamo vektor:

$$
\mathbf{e} = \begin{bmatrix} x_1 \\ y_1 \\ z_1 \end{bmatrix}
$$

Vektor želimo najprej:

1. **zarotirati okoli osi Z** za kot $\alpha$,
2. nato **še okoli osi Y** za kot $\beta$.

### Rotacija okoli osi Z (kot $\alpha$)

Rotacija okoli osi Z vpliva na komponenti X in Y. Z komponenta ostane nespremenjena.

$$
\mathbf{R}_Z(\alpha) =
\begin{bmatrix}
\cos\alpha & -\sin\alpha & 0 \\
\sin\alpha & \cos\alpha & 0 \\
0 & 0 & 1
\end{bmatrix}
$$

Vmesni rezultat po tej rotaciji:

$$
\mathbf{e}' = \mathbf{R}_Z(\alpha) \cdot \mathbf{e}
$$

### Rotacija okoli osi Y (kot $\beta$)

Rotacija okoli Y osi vpliva na komponenti X in Z. Y komponenta ostane nespremenjena.

$$
\mathbf{R}_Y(\beta) =
\begin{bmatrix}
\cos\beta & 0 & \sin\beta \\
0 & 1 & 0 \\
-\sin\beta & 0 & \cos\beta
\end{bmatrix}
$$

Končni rezultat po drugi rotaciji:

$$
\mathbf{e}'' = \mathbf{R}_Y(\beta) \cdot \mathbf{e}' = \mathbf{R}_Y(\beta) \cdot \mathbf{R}_Z(\alpha) \cdot \mathbf{e}
$$

### Primer

Za izračun bomo vzeli poseben primer, kjer bomo vektor e zarotirali tako, da bo vektor zopet končal na eni od glavnih ravnin prostora. Tako ga bomo lahko bolj nazorno prikazali na [@fig:rotacija_vektorja_z_y].

Naj bo:

* **vektor** $\mathbf{e} = [8, 0, 0]^T$
* **rotacija okoli Z** za $\alpha = 60^\circ$
* **nato rotacija okoli Y** za $\beta = -90^\circ$

![Rezultat rotacije vektorja.](./slike/rotacija_vektorja_z_y.png){#fig:rotacija_vektorja_z_y}

1. Rotacijska matrika okoli Z

$$ \mathbf{R}_Z(\alpha) =
\begin{bmatrix}
\cos\alpha & -\sin\alpha & 0 \\
\sin\alpha & \cos\alpha  & 0 \\
0          & 0           & 1 
\end{bmatrix} =
\begin{bmatrix}
0.5 & -0.8660 & 0 \\
0.8660 & 0.5 & 0 \\
0 & 0 & 1 
\end{bmatrix} $$

2. Rotacijska matrika okoli Y

$$ \mathbf{R}_Y(\beta) = \begin{bmatrix} \cos\beta & 0 & \sin\beta \\ 0 & 1 & 0 \\ -\sin\beta & 0 & \cos\beta \end{bmatrix} = \begin{bmatrix} 0 & 0 & -1 \\ 0 & 1 & 0 \\ 1 & 0 & 0 \end{bmatrix} $$

3. Vmesni rezultat: $\mathbf{e}' = \mathbf{R}_Z(\alpha) \cdot \mathbf{e}$

$$ \mathbf{e}' = \begin{bmatrix} 0.5 & -0.8660 & 0 \\ 0.8660 & 0.5 & 0 \\ 0 & 0 & 1 \end{bmatrix} \cdot \begin{bmatrix} 8 \\ 0 \\ 0 \end{bmatrix} = \begin{bmatrix} 4.0 \\ 6.9282 \\ 0 \end{bmatrix} $$

4. Končni rezultat: $\mathbf{e}'' = \mathbf{R}_Y(\beta) \cdot \mathbf{e}'$

$$ \mathbf{e}'' = \begin{bmatrix} 0 & 0 & -1 \\ 0 & 1 & 0 \\ 1 & 0 & 0 \end{bmatrix} \cdot \begin{bmatrix} 4.0 \\ 6.9282 \\ 0 \end{bmatrix} = \begin{bmatrix} 0 \\ 6.9282 \\ 4.0 \end{bmatrix} $$

5. Rezultat

Po rotaciji vektorja $[8, 0, 0]^T$ za $60^\circ$ okoli Z in nato še za $-90^\circ$ okoli Y dobimo nov vektor:

$$ \mathbf{e}_{\text{rotated}} \approx \begin{bmatrix} 0 \\ 6.93 \\ 4.00 \end{bmatrix} $$

Rezultat je tudi grafično prikazan na [@fig:rotacija_vektorja_z_y].

